{% extends 'base.html' %}

{% load static %}

{% block content %}
  <h1>{{ listing.title }}</h1>
  <hr>
  <div class="row">
    <div class="col-md-8">
      {% if listing.photo %}
        <img src="{{ listing.photo_main.url }}" alt="{{ listing.title }}" class="img-fluid">
      {% endif %}
      <p class="lead">{{ listing.description }}</p>
      <table class="table table-striped">
        <tbody>
          <tr>
            <th>Price</th>
            <td>{{ listing.price }}</td>
          </tr>
          <tr>
            <th>Bedrooms</th>
            <td>{{ listing.bedrooms }}</td>
          </tr>
          <tr>
            <th>Bathrooms</th>
            <td>{{ listing.bathrooms }}</td>
          </tr>
          <tr>
            <th>Area</th>
            <td>{{ listing.area }} sqft</td>
          </tr>
          <tr>
            <th>Address</th>
            <td>{{ listing.address }}</td>
          </tr>
          <tr>
            <th>City</th>
            <td>{{ listing.city }}</td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="col-md-4">
      <div class="card bg-light mb-3">
        <div class="card-header">Contact Agent</div>
        <div class="card-body">
          <form action="{% url 'listings:contacts' %}" method="POST">
            {% csrf_token %}
            <input type="hidden" name="listing_id" value="{{ listing.id }}">
            <div class="form-group">
              <label for="name">Name</label>
              <input type="text" name="name" id="name" class="form-control" required>
            </div>
            <div class="form-group">
              <label for="email">Email</label>
              <input type="email" name="email" id="email" class="form-control" required>
            </div>
            <div class="form-group">
              <label for="phone">Phone</label>
              <input type="text" name="phone" id="phone" class="form-control" required>
            </div>
            <div class="form-group">
              <label for="message">Message</label>
              <textarea name="message" id="message" class="form-control" required></textarea>
            </div>
            <input type="submit" value="Submit" class="btn btn-primary btn-block mt-2">
          </form>
        </div>
      </div>
    </div>
</div>

{% endblock %}
